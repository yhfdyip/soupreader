seq,menu_file,item_id,title_ref,title_zh,domain,phase,status,owner,verify,notes
1,about.xml,@+id/menu_share_it,@string/share,分享,系统与工具,P10,pending,-,-,-
2,about.xml,@+id/menu_scoring,@string/scoring,评分,系统与工具,P10,pending,-,-,-
3,app_log.xml,@+id/menu_clear,@string/clear,清除,系统与工具,P10,pending,-,-,-
4,app_update.xml,@+id/menu_download,@string/action_download,下载,系统与工具,P10,pending,-,-,-
5,audio_play.xml,@+id/menu_change_source,@string/change_origin,换源,阅读与朗读,P3,done,codex,手工路径: 阅读页->底部菜单长按朗读->播放->换源; 校验播放菜单出现换源入口且点击后进入换源候选弹层,将朗读长按入口从占位提示收敛为 legado audio_play menu_change_source 同义换源动作并复用整书换源链路
6,audio_play.xml,@+id/menu_login,@string/login,登录,阅读与朗读,P3,done,codex,手工路径: 阅读页(网络书且书源配置 loginUrl)->底部菜单长按朗读->播放->登录; 校验 loginUrl 非空时显示登录入口且点击后进入登录流程，无 loginUrl 时不展示,播放菜单补齐 legado audio_play menu_login 同义入口并复用现有书源登录链路（loginUi/Web 登录）
7,audio_play.xml,@+id/menu_copy_audio_url,@string/copy_play_url,拷贝播放 URL,阅读与朗读,P3,pending,-,-,-
8,audio_play.xml,@+id/menu_edit_source,@string/edit_book_source,编辑书源,阅读与朗读,P3,done,codex,手工路径: 阅读页(网络书) -> 底部菜单长按朗读 -> 播放 -> 编辑书源; 校验可进入编辑书源页，取消返回不刷新，保存返回后刷新当前书源展示,播放菜单补齐 legado audio_play menu_edit_source，同步复用阅读域编辑书源链路并保持仅保存返回刷新（取消不生效）
9,audio_play.xml,@+id/menu_wake_lock,@string/audio_play_wake_lock,音频服务唤醒锁,阅读与朗读,P3,done,codex,手工路径: 阅读页->底部菜单长按朗读->播放->音频服务唤醒锁; 校验入口勾选态与开关状态同步且切换后再次进入保持状态,播放菜单补齐 legado audio_play menu_wake_lock 同义 checkable 语义并持久化到 audioPlayWakeLock
10,audio_play.xml,@+id/menu_log,@string/log,日志,阅读与朗读,P3,pending,-,-,-
11,backup_restore.xml,@+id/menu_help,@string/help,帮助,导入导出与备份,P8,pending,-,-,-
12,backup_restore.xml,@+id/menu_log,@string/log,日志,导入导出与备份,P8,pending,-,-,-
13,book_cache.xml,@+id/menu_download,@string/action_download,下载,书架/缓存/分组,P6,pending,-,-,-
14,book_cache.xml,@+id/menu_book_group,@string/group,分组,书架/缓存/分组,P6,pending,-,-,-
15,book_cache.xml,@+id/menu_export_all,@string/export_all,导出所有,书架/缓存/分组,P6,pending,-,-,-
16,book_cache.xml,@+id/menu_enable_replace,@string/replace_purify,替换净化,书架/缓存/分组,P6,pending,-,-,-
17,book_cache.xml,@+id/menu_enable_custom_export,@string/custom_export_section,自定义Epub导出章节,书架/缓存/分组,P6,pending,-,-,-
18,book_cache.xml,@+id/menu_export_web_dav,@string/export_to_web_dav,导出到 WebDav,书架/缓存/分组,P6,pending,-,-,-
19,book_cache.xml,@+id/menu_export_no_chapter_name,@string/export_no_chapter_name,TXT 不导出章节名,书架/缓存/分组,P6,pending,-,-,-
20,book_cache.xml,@+id/menu_export_pics_file,@string/export_pics_file,TXT 导出图片,书架/缓存/分组,P6,pending,-,-,-
21,book_cache.xml,@+id/menu_parallel_export,@string/parallel_export_book,多线程导出,书架/缓存/分组,P6,pending,-,-,-
22,book_cache.xml,@+id/menu_export_folder,@string/export_folder,导出文件夹,书架/缓存/分组,P6,pending,-,-,-
23,book_cache.xml,@+id/menu_export_file_name,@string/export_file_name,导出文件名,书架/缓存/分组,P6,pending,-,-,-
24,book_cache.xml,@+id/menu_export_type,@string/export_type,导出格式,书架/缓存/分组,P6,pending,-,-,-
25,book_cache.xml,@+id/menu_export_charset,@string/export_charset,导出编码,书架/缓存/分组,P6,pending,-,-,-
26,book_cache.xml,@+id/menu_log,@string/log,日志,书架/缓存/分组,P6,pending,-,-,-
27,book_cache_download.xml,@+id/menu_download_after,@string/menu_download_after,下载之后章节,书架/缓存/分组,P6,pending,-,-,-
28,book_cache_download.xml,@+id/menu_download_all,@string/menu_download_all,下载全部章节,书架/缓存/分组,P6,pending,-,-,-
29,book_group_manage.xml,@+id/menu_add,@string/add_group,添加分组,书架/缓存/分组,P6,pending,-,-,-
30,book_info.xml,@+id/menu_edit,@string/edit,编辑,搜索/详情/目录,P2,done,codex,flutter test test/search_book_info_edit_helper_test.dart test/search_book_info_menu_helper_test.dart test/search_book_info_view_edit_action_test.dart 通过; 手工路径: 书架点开书籍详情->顶栏编辑->进入编辑书籍信息页,确认仅书架内书籍显示编辑入口并保持 legado menu_edit->BookInfoEditActivity 同义触发语义
67,book_read.xml,@+id/menu_toc_regex,@string/txt_toc_rule,TXT 目录规则,阅读与朗读,P3,done,codex,flutter test test/reader_txt_toc_rule_dialog_test.dart test/reader_top_menu_test.dart test/reader_legacy_menu_helper_test.dart test/simple_reader_view_compile_test.dart 通过; 手工路径: 阅读页->本地 TXT 书籍->顶部 TXT 目录规则->选择规则->确定,确认取消不生效且确定后立即重建目录并保持 menu_toc_regex 同义触发语义
68,book_read.xml,@+id/menu_set_charset,@string/set_charset,设置编码,阅读与朗读,P3,done,codex,flutter test test/reader_top_menu_test.dart test/reader_legacy_menu_helper_test.dart test/simple_reader_view_compile_test.dart 通过; 手工路径: 阅读页->本地书籍->顶部设置编码->输入 GBK -> 确定,确认设置编码入口为顶栏一级动作且阅读操作菜单不再出现该项，输入式对话框支持自由输入并在本地 TXT 与非 TXT 场景都触发目录重载，取消不生效且不追加扩展成功提示
69,book_read.xml,@+id/menu_add_bookmark,@string/bookmark_add,添加书签,阅读与朗读,P3,done,codex,手工路径: 阅读页->阅读操作->添加书签；阅读页九宫格点击动作配置为“添加书签”后点击触发；校验均弹出书签编辑框，取消不落库，确定后新增书签并在目录书签页可见,将 menu_add_bookmark 从“有则删无则加”收敛为 legado 同义“始终打开编辑弹窗后确认新增”；默认预填当前阅读页文本并记录章节进度，书签跳转补齐按 chapterPos 恢复阅读进度
70,book_read.xml,@+id/menu_edit_content,@string/edit_content,编辑内容,阅读与朗读,P3,done,codex,手工路径: 阅读页->阅读操作->编辑正文->重置；阅读页->阅读操作->编辑正文->关闭；阅读页->阅读操作->反转内容,补齐 menu_edit_content 正文抓取失败兜底：记录 reader.menu.<action>.fetch_content_failed 日志并回退当前显示内容；编辑页重置期间新增全屏遮罩与整页交互锁定，关闭/返回保持自动保存语义
71,book_read.xml,@+id/menu_page_anim,@string/book_page_anim,翻页动画（本书）,阅读与朗读,P3,done,codex,flutter test test/reader_legacy_menu_helper_test.dart test/simple_reader_view_compile_test.dart 通过；手工路径: 阅读页->阅读操作->翻页动画（本书）->选择 默认/覆盖/滑动/仿真/滚动/无,菜单动作由打开界面设置收敛为 legado 同义单选弹层；新增本书翻页动画持久化并在阅读会话叠加覆盖；样式面板改全局翻页动画时清除本书覆盖以对齐 legado pageAnim=-1 边界
72,book_read.xml,@+id/menu_get_progress,@string/get_book_progress,拉取云端进度,阅读与朗读,P3,done,codex,手工路径: 阅读页(已配置 WebDav)->阅读操作->获取进度; 校验云端无进度静默返回、云端进度落后时弹“当前进度超过云端，是否覆盖为云端进度？”确认框、越界章节索引不覆盖本地进度,拉取链路收敛为 legado 同义：无配置/空目录/云端无数据时静默返回；失败仅写 reader.menu.get_progress.failed 日志；云端进度领先时直接同步并记录“自动同步阅读进度成功《书名》 章节名”日志；兼容 legado 原始 durChapterPos 场景时按章节内容长度估算章节进度
73,book_read.xml,@+id/menu_cover_progress,@string/cover_book_progress,覆盖云端进度,阅读与朗读,P3,done,codex,手工路径: 阅读页(已配置 WebDav)->阅读操作->覆盖云端进度; 校验同步开关关闭/未配置/空目录时静默返回，上传成功提示“上传成功”，上传失败提示“上传进度失败\\n<原因>”且日志页可观测,覆盖进度链路收敛为 legado 同义：先保存本地进度再上传；失败写 reader.menu.cover_progress.failed 日志并保留失败提示；菜单文案由“覆盖进度”收敛为“覆盖云端进度”
74,book_read.xml,@+id/menu_reverse_content,@string/reverse_content,反转内容,阅读与朗读,P3,done,codex,手工路径: 阅读页(网络书且当前章节已缓存正文)->阅读操作->反转内容; 校验入口仅在线书显示、点击后当前章节正文按字符级倒序并立即刷新、无缓存正文时静默返回,将 menu_reverse_content 从“按行倒序 + 缺正文提示 + 兜底拉取正文”收敛为 legado 同义“按字符倒序 + 仅处理已缓存正文 + 缺失静默返回”；菜单文案由“正文倒序”收敛为“反转内容”
75,book_read.xml,@+id/menu_simulated_reading,@string/simulated_reading,模拟追读,阅读与朗读,P3,done,codex,flutter test test/simple_reader_view_compile_test.dart 通过; flutter test test/reader_legacy_menu_helper_test.dart 通过; flutter test test/reader_catalog_sheet_test.dart 通过,将 menu_simulated_reading 从“自动阅读占位开关”收敛为 legado 同义“配置弹窗(启用/起始章节/每日章节/开始日期) -> 落盘 -> 重载阅读会话”；补齐 simulatedTotalChapterNum 同义计算并将目录可见章节数与底部章节导航上限对齐到可读章节边界
76,book_read.xml,@+id/menu_enable_replace,@string/replace_rule_title,替换净化,阅读与朗读,P3,done,codex,flutter test test/reader_legacy_menu_helper_test.dart 通过; flutter test test/simple_reader_view_compile_test.dart 通过,将 menu_enable_replace 从“启用替换规则 + 切换后 toast”收敛为 legado 同义“替换净化 checkable 入口 + 点击即切换并刷新正文（无额外提示）”；菜单文案统一为“替换净化”，状态保持按书籍级 useReplaceRule 持久化
77,book_read.xml,@+id/menu_same_title_removed,@string/same_title_removed,移除重复标题,阅读与朗读,P3,done,codex,flutter test test/reader_legacy_menu_helper_test.dart 通过; flutter test test/simple_reader_view_compile_test.dart 通过; 手工路径: 阅读页->阅读操作->移除重复标题,菜单文案由“同名标题去重”收敛为 legado 同义“移除重复标题”；勾选态收敛为“当前章节实际发生重复标题移除”；点击动作收敛为 legado 同义“按 !sameTitleRemoved 翻转章节级开关并重载当前章节”，仅在“当前章节未移除且已处于启用态”提示“未找到可移除的重复标题”，章节缺失场景静默返回
78,book_read.xml,@+id/menu_re_segment,@string/re_segment,重新分段,阅读与朗读,P3,done,codex,手工路径: 阅读页->阅读操作->重新分段; 校验勾选态随书籍级开关切换并立即重载当前章节且不追加提示,动作收敛为 legado 同义“切换书籍级 reSegment 后直接重载正文”；重载前先保存当前进度并按当前章节恢复位置以避免阅读位置漂移
79,book_read.xml,@+id/menu_enable_review,@string/review,段评,阅读与朗读,P3,done,codex,手工路径: 阅读页->阅读操作; 校验菜单不显示“段评”且其它菜单顺序保持不变,对照 legado `book_read.xml` 中 `menu_enable_review` 默认 `visible=false` 且 `ReadBookActivity` 事件分支处于注释状态；SoupReader 补齐隐藏占位动作并保持默认不展示不触发以对齐同义语义
80,book_read.xml,@+id/menu_del_ruby_tag,@string/del_ruby_tag,删除ruby标签,阅读与朗读,P3,done,codex,手工路径: 阅读页(EPUB书籍)->阅读操作->删除ruby标签; 校验入口仅 EPUB 显示、勾选态随开关切换、切换后触发全量内容刷新并重载当前章节,对照 legado `menu_del_ruby_tag`：文案由“删除 ruby 标签”收敛为“删除ruby标签”；清理规则由“删除 ruby/rt/rp 标签”收敛为仅删除 `rt/rp`；切换后刷新由“保留当前章内存内容的清缓存”收敛为全量清缓存并重载当前章节以贴齐 `refreshContentAll`
81,book_read.xml,@+id/menu_del_h_tag,@string/del_h_tag,删除h标签,阅读与朗读,P3,done,codex,手工路径: 阅读页(EPUB书籍)->阅读操作->删除h标签; 校验入口仅 EPUB 显示、勾选态切换后整段 h1~h6 节点(含标题文本)从正文移除、切换后全量清缓存并重载当前章节且无额外提示,对照 legado menu_del_h_tag：文案由“删除 h 标签”收敛为“删除h标签”；h 标签处理由“仅去标签保留标题文本”收敛为“删除 h1~h6 整段节点内容”；切换后继续复用全量清缓存并重载当前章节链路，保持 checkable 语义
82,book_read.xml,@+id/menu_image_style,@string/image_style,图片样式,阅读与朗读,P3,done,codex,手工路径: 阅读页->阅读操作->图片样式->选择 DEFAULT/FULL/TEXT/SINGLE; 校验样式切换后正文即时重载且 SINGLE 分支仅当前书籍强制覆盖翻页动画,对齐 legado menu_image_style 语义: 四档样式按书籍级持久化; SINGLE 联动由“全局改覆盖”收敛为“仅书籍级 pageAnim=覆盖”且不污染全局设置
83,book_read.xml,@+id/menu_update_toc,@string/update_toc,更新目录,阅读与朗读,P3,done,codex,flutter test test/reader_top_menu_test.dart test/reader_legacy_menu_helper_test.dart test/simple_reader_view_compile_test.dart test/search_book_info_refresh_helper_test.dart 通过; flutter test test/reader_catalog_sheet_test.dart 通过; 手工路径: 阅读页->阅读操作->更新目录（在线书与本地 TXT/EPUB 分别验证）,确认在线失败提示收敛为“加载目录失败”且本地失败提示收敛为 LoadTocError 前缀并移除成功扩展提示
84,book_read.xml,@+id/menu_effective_replaces,@string/effective_replaces,起效的替换,阅读与朗读,P3,done,codex,手工路径: 阅读页->阅读操作->起效的替换; 选择命中规则进入编辑并保存返回; 选择“繁简转换”并切换模式,阅读菜单入口从规则总列表收敛为当前章节起效替换弹层；仅展示当前章节正文实际命中的替换规则并在简繁转换开启时追加“繁简转换”；编辑后按 replaceRuleChanged 语义重载当前章节
87,book_read_change_source.xml,@+id/menu_chapter_change_source,@string/chapter_change_source,单章换源,阅读与朗读,P3,done,codex,手工路径: 阅读页(网络书)->顶部换源按钮长按->单章换源->选择候选书源->选择目标章节; 校验当前章节正文被替换且阅读位置保持在当前章节,单章换源流程收敛为“先选书源再选目标章节后替换当前章节正文”；移除自动匹配章节后立即覆盖与成功提示扩展分支，对齐 legado ChangeChapterSourceDialog 的手动选章语义
88,book_read_change_source.xml,@+id/menu_book_change_source,@string/book_change_source,整书换源,阅读与朗读,P3,done,codex,手工路径: 阅读页(网络书)->顶部换源按钮长按->整书换源->选择候选书源; 校验整书来源与目录切换生效且无成功提示,分支菜单文案由“书籍换源”收敛为 legado 同义“整书换源”；整书换源成功反馈收敛为静默不再弹“已切换到...”扩展 toast；触发链路保持与 menu_change_source 同步复用整书换源流程
93,book_read_record.xml,@+id/menu_enable_record,@string/enable_record,开启记录,阅读与朗读,P3,done,codex,手工路径: 设置->功能 & 设置->阅读记录->右上角更多->开启记录; 校验勾选态切换与重进页面保持,对齐 legado menu_enable_record checkable 语义：菜单打开按 enableReadRecord 回显勾选；点击仅翻转开关并持久化，不追加提示；阅读进度保存保持不变且仅在开关关闭时不刷新 lastReadTime
94,book_read_refresh.xml,@+id/menu_refresh_dur,@string/menu_refresh_dur,刷新当前章节,阅读与朗读,P3,done,codex,flutter test test/reader_legacy_menu_helper_test.dart test/reader_top_menu_test.dart test/simple_reader_view_compile_test.dart 通过; 手工路径: 阅读页->顶部刷新按钮(点击) 与 阅读页->顶部刷新按钮(长按)->刷新当前章节; 确认 menu_refresh 与 menu_refresh_dur 同分支并默认执行刷新当前章节,
95,book_read_refresh.xml,@+id/menu_refresh_after,@string/menu_refresh_after,刷新之后章节,阅读与朗读,P3,done,codex,flutter test test/reader_refresh_scope_helper_test.dart test/reader_legacy_menu_helper_test.dart test/reader_top_menu_test.dart test/simple_reader_view_compile_test.dart 通过; 手工路径: 阅读页->顶部刷新按钮(长按)->刷新之后章节; 确认从当前章节开始清理后续缓存并触发当前章节重载，前序章节缓存保持不变,
96,book_read_refresh.xml,@+id/menu_refresh_all,@string/menu_refresh_all,刷新全部章节,阅读与朗读,P3,done,codex,flutter test test/reader_refresh_scope_helper_test.dart test/reader_legacy_menu_helper_test.dart test/reader_top_menu_test.dart test/simple_reader_view_compile_test.dart 通过; 手工路径: 阅读页->顶部刷新按钮(长按)->刷新全部章节; 确认从首章开始清理全量章节缓存并回写变更章节，随后重载当前章节，且无可用书源时回落当前章节重载,
97,book_read_source.xml,@+id/menu_login,@string/login,登录,阅读与朗读,P3,done,codex,手工路径: 阅读页(网络书)->顶部书源名->登录; 校验 loginUrl 为空时菜单不显示登录，loginUrl 非空点击后可进入登录流程（表单登录或网页登录）,登录动作改为按 bookSourceUrl 回查当前书源后再触发，缺失时提示“未找到书源”，以对齐 legado SourceLoginActivity 的实时状态边界
98,book_read_source.xml,@+id/menu_chapter_pay,@string/chapter_pay,购买,阅读与朗读,P3,done,codex,手工路径: 阅读页(网络书,VIP未购买章节)->顶部书源名->章节购买->确定; 校验仅 loginUrl 非空且当前章节 isVip=true 且 isPay!=true 显示入口，确认后按 payAction 结果分流（URL 打开网页，truthy 结果清缓存并刷新目录），异常仅写日志且不追加扩展提示
99,book_read_source.xml,@+id/menu_edit_source,@string/edit_book_source,编辑书源,阅读与朗读,P3,done,codex,手工路径: 阅读页(网络书)->顶部书源名->编辑书源; 校验点击后按当前 sourceUrl 回查书源并进入编辑书源页，弹层期间若书源被删除则提示未找到书源，编辑后仅保存返回时刷新阅读页书源显示,编辑动作由使用弹层快照 source 直接打开收敛为 legado 同义的按 bookSourceUrl 实时回查后打开；保存返回才刷新菜单书源显示以对齐 RESULT_OK 回调语义
100,book_read_source.xml,@+id/menu_disable_source,@string/disable_book_source,禁用书源,阅读与朗读,P3,done,codex,手工路径: 阅读页(网络书)->顶部书源名->禁用书源; 校验点击后按 bookSourceUrl 回查当前书源并直接写库禁用，无确认弹窗且无成功提示,禁用动作由弹层快照 source 直接写库收敛为 legado 同义的按 bookSourceUrl 实时回查后禁用；回查缺失时提示“未找到书源”
164,book_toc.xml,@+id/menu_split_long_chapter,@string/split_long_chapter,拆分超长章节,搜索/详情/目录,P2,done,codex,手工路径: 书籍详情页->查看目录->更多->拆分超长章节; 校验仅本地 TXT 显示勾选态并切换后即时重建目录,目录页补齐 menu_split_long_chapter 勾选入口并复用本地 TXT 重解析链路; 切换后同步刷新目录列表与勾选状态
166,book_toc.xml,@+id/menu_use_replace,@string/use_replace,使用替换,搜索/详情/目录,P2,done,codex,手工路径: 书籍详情页->查看目录->更多->使用替换; 校验固定文案+勾选态切换且不弹成功提示，切换后目录标题即时按替换规则刷新,目录页补齐 menu_use_replace 全局开关并持久化到 tocUiUseReplace；展示链路收敛为 tocUiUseReplace && 书籍启用替换规则
167,book_toc.xml,@+id/menu_load_word_count,@string/load_word_count,加载字数,搜索/详情/目录,P2,done,codex,flutter test test/search_book_info_view_compile_test.dart test/simple_reader_view_compile_test.dart test/reader_catalog_sheet_test.dart 通过; 手工路径: 书籍详情页->查看目录->更多->加载字数; 校验固定文案+勾选态切换且不弹成功提示，目录项字数按开关即时显隐,目录页补齐 menu_load_word_count 全局开关并持久化到 toc_ui_load_word_count；目录项在开关开启且存在可用字数时显示 xx字/xx万字
201,content_edit.xml,@+id/menu_save,@string/action_save,保存,阅读与朗读,P3,done,codex,手工路径: 阅读页->阅读操作->编辑正文->清空正文后点保存 或 关闭; 校验不覆盖当前章节已缓存正文并返回阅读页,编辑正文保存链路补齐 legado menu_save 同义空正文边界：仅当正文非空时才落库覆盖章节内容；保留保存后返回阅读页且正文刷新
202,content_edit.xml,@+id/menu_reset,@string/reset,重置,阅读与朗读,P3,done,codex,手工路径: 阅读页(网络书)->阅读操作->编辑正文->重置 与 阅读页(本地 TXT/EPUB)->阅读操作->编辑正文->重置; 校验重置后编辑框回填源正文并刷新当前章节，失败时无重置失败弹窗,编辑正文重置链路补齐 legado menu_reset 同义：先清缓存再回源读取正文；网络书失败时静默保留当前编辑内容并记录日志；本地书改为从本地文件回读章节正文
204,content_search.xml,@+id/menu_enable_replace,@string/replace,替换,阅读与朗读,P3,done,codex,手工路径: 阅读页->搜索正文->输入关键词搜索->搜索面板顶栏更多->替换->再次搜索; 校验勾选态切换有效且仅影响全文搜索替换流程，退出全文搜索后开关恢复默认关闭,对齐 legado SearchContentActivity.menu_enable_replace 语义：补齐全文搜索 checkable“替换”入口；点击仅翻转搜索态开关不自动重跑；搜索链路按“搜索替换开关 && 书籍替换净化开关”决定是否应用替换规则
205,content_select_action.xml,@+id/menu_replace,@string/replace,替换,阅读与朗读,P3,done,codex,手工路径: 阅读页(翻页模式)->长按正文词句->文本操作->替换->保存规则; 校验默认 pattern 为选中文本逐行 trim 后结果 且 scope 为 书名;书源URL,对齐 legado TextActionMenu.menu_replace：补齐翻页阅读长按选中文本入口并接入 文本操作->替换；替换编辑页按 selectedText(逐行trim) 预填 pattern 且 scope 预填 bookName;bookSourceUrl；保存后回写规则并刷新当前章节
207,content_select_action.xml,@+id/menu_bookmark,@string/bookmark,书签,阅读与朗读,P3,done,codex,手工路径: 阅读页(翻页模式)->长按正文词句->文本操作->书签->取消/确定; 校验取消不落库，确定后新增书签且目录书签页可见并可跳转,对齐 legado TextActionMenu.menu_bookmark：补齐文本操作->书签入口；点击后以选中文本预填书签编辑弹窗，取消不写库，确定后写库并刷新书签状态
208,content_select_action.xml,@+id/menu_aloud,@string/read_aloud,朗读,阅读与朗读,P3,done,codex,手工路径: 阅读页(翻页模式)->长按正文词句->文本操作->朗读(点击/长按); 校验点击按模式执行“朗读选择内容/从选择处开始一直朗读”，长按任意文本操作菜单项可在两种模式间切换并持久化,对齐 legado TextActionMenu.menu_aloud：补齐文本操作“朗读”入口；默认模式朗读选中文本，长按切换后改为从选择处开始持续朗读；模式键持久化为 contentSelectSpeakMod
209,content_select_action.xml,@+id/menu_dict,@string/dict,字典,阅读与朗读,P3,done,codex,手工路径: 阅读页(翻页模式)->长按正文词句->文本操作->字典; 校验弹出字典面板、默认加载首个启用规则并支持规则切换后重新查询,对齐 legado TextActionMenu.menu_dict：补齐文本操作“字典”入口；点击后打开字典弹层并以 selectedText 发起词典查询（规则按 enabled + sortNumber 排序）
210,content_select_action.xml,@+id/menu_search_content,@string/search_content,全文搜索,阅读与朗读,P3,done,codex,flutter test test/reader_search_navigation_helper_test.dart 与 flutter test test/reader_top_menu_test.dart 通过；手工路径: 阅读页->搜索正文->输入关键词->搜索->上一个/下一个命中,将全文搜索从“仅当前章节命中”收敛为 legado 同义“跨章节命中列表 + 跨章节跳转”；保持在线书仅检索已缓存章节并在搜索面板展示章节维度结果信息
211,content_select_action.xml,@+id/menu_browser,@string/browser,浏览器,阅读与朗读,P3,done,codex,手工路径: 阅读页(翻页模式)->长按正文词句->文本操作->浏览器; 校验选中文本为http或https时外部浏览器直开且失败提示ERROR; 非网址文本按关键词发起网页搜索,对齐legado TextActionMenu.menu_browser语义：选中文本为绝对网址时走ACTION_VIEW; 非绝对网址时走ACTION_WEB_SEARCH; 异常提示localizedMessage为空时回退ERROR
212,content_select_action.xml,@+id/menu_share_str,@string/share,分享,阅读与朗读,P3,done,codex,手工路径: 阅读页(翻页模式)->长按正文词句->文本操作->分享; 校验打开系统分享面板且分享内容为选中文本并且不追加成功或失败提示,对齐 legado TextActionMenu.menu_share_str：补齐文本操作“分享”入口；点击后调用系统文本分享（subject=分享 且 text=selectedText）；分享异常静默吞掉不追加提示
348,search_view.xml,@+id/menu_search,@string/search,搜索,搜索/详情/目录,P2,done,codex,手工路径: 搜索页->输入关键字->点击输入框内搜索图标 或 键盘搜索; 校验单一搜索控件可触发搜索，输入变化时会停止搜索并隐藏继续加载入口,将搜索入口由“输入框+独立搜索按钮”收敛为 legado menu_search 同义“单一搜索控件内提交动作”；占位文案收敛为“搜索书名、作者”
238,font_select.xml,@+id/menu_default,@string/default_font,默认字体,阅读与朗读,P3,done,codex,flutter test test/reader_top_menu_test.dart 与 flutter test test/reader_search_navigation_helper_test.dart 通过；flutter test test/simple_reader_view_compile_test.dart 失败（现存编译问题：simple_reader_view.dart:4968 空安全报错；reader_dict_lookup_sheet.dart:170 SelectableText 未定义）；手工路径: 阅读页->样式弹层->字体->默认字体->选择系统默认字体/系统衬线字体/系统等宽字体；校验选择后关闭字体弹层并清空自定义字体且立即生效,对齐 legado FontSelectDialog.menu_default 语义：点击后弹出“系统内置字体样式”选项并在确认后执行 selectFont(\"\") 清空自定义字体；应用所选系统字体
239,font_select.xml,@+id/menu_other,@string/other_folder,其它目录,阅读与朗读,P3,done,codex,flutter test test/reader_top_menu_test.dart、flutter test test/reader_search_navigation_helper_test.dart、flutter test test/simple_reader_view_compile_test.dart 通过；手工路径: 阅读页->样式弹层->字体->其它目录->选择目录；阅读页->样式弹层->字体->选择目录字体,字体弹层补齐 legado menu_other 同义“其它目录”入口；点击后可重选字体目录并刷新 ttf/otf 候选列表；补齐字体目录路径与已选目录字体路径持久化并支持重进阅读回读
256,keyboard_assists_config.xml,@+id/menu_add,@string/add,添加,阅读与朗读,P3,done,codex,手工路径: 书源编辑页->选中任意规则输入框->右侧魔棒“编辑工具”->辅助按键配置->添加->输入 key/value -> 确定；再次打开“编辑工具”并点击新增项,对齐 legado KeyboardAssistsConfig.menu_add 语义：补齐“辅助按键配置”弹层顶部添加入口；点击后弹出“辅助按键”双输入框(key/value)，确认后按 serialNo 追加并持久化，返回编辑工具可见并可插入新增 value
372,speak_engine.xml,@+id/menu_add,@string/add,添加,阅读与朗读,P3,done,codex,手工路径: 设置->语音管理->右上角添加->编辑朗读引擎; 校验可进入空白编辑页且返回后列表不自动新增规则,对齐 legado SpeakEngineDialog.menu_add 语义：语音管理页补齐顶栏一级“添加”入口；点击后仅打开 HTTP 朗读引擎编辑承载页（新建草稿），不自动保存、不触发导入导出流程
373,speak_engine.xml,@+id/menu_default,@string/import_default_rule,导入默认规则,阅读与朗读,P3,done,codex,手工路径: 设置->语音管理->右上角更多->导入默认规则；校验导入后HTTP朗读引擎列表出现默认规则且重复导入不会删除用户规则,对齐legado SpeakEngineDialog.menu_default语义：仅删除默认规则(id<0)并重新导入assets/source/httpTTS.json；不清理用户自定义规则
374,speak_engine.xml,@+id/menu_import_local,@string/import_local,本地导入,阅读与朗读,P3,done,codex,flutter test test/widget_test.dart 与 flutter test test/search_view_source_manage_action_test.dart 通过；手工路径: 设置->语音管理->右上角更多->本地导入->选择txt/json；校验导入候选列表展示新增/更新/已有并默认勾选新增+更新,对齐legado SpeakEngineDialog.menu_import_local语义：本地文件导入后进入候选选择再批量导入；取消不落库、确认后即时刷新HTTP朗读引擎列表
375,speak_engine.xml,@+id/menu_import_onLine,@string/import_on_line,网络导入,阅读与朗读,P3,done,codex,手工路径: 设置->语音管理->右上角更多->网络导入->输入URL；校验可进入导入朗读引擎候选列表并默认勾选新增+更新；确认后刷新列表且取消不落库,对齐legado SpeakEngineDialog.menu_import_onLine语义：网络导入先弹URL输入并支持历史记录删除；确认后进入候选预览并仅导入勾选项
376,speak_engine.xml,@+id/menu_export,@string/export,导出,阅读与朗读,P3,done,codex,手工路径: 设置->语音管理->右上角更多->导出；校验默认文件名为httpTts.json且内容为HTTP朗读引擎JSON数组；导出成功弹窗展示路径并支持复制路径,对齐legado SpeakEngineDialog.menu_export语义：导出当前HTTP朗读引擎列表到httpTts.json（application/json）；取消不落盘、成功后展示可复制路径
377,speak_engine_edit.xml,@+id/menu_save,@string/action_save,保存,阅读与朗读,P3,done,codex,手工路径: 设置->语音管理->点击HTTP朗读引擎条目->编辑页右上角保存；校验保存后提示“保存成功”且停留当前编辑页，返回列表可见规则内容已更新,对齐legado HttpTtsEditDialog.menu_save语义：点击保存后按当前编辑表单回写HTTP朗读引擎规则并提示“保存成功”；动作不触发登录与页面关闭
378,speak_engine_edit.xml,@+id/menu_login,@string/login,登录,阅读与朗读,P3,done,codex,手工路径: 设置->语音管理->点击HTTP朗读引擎条目->编辑页右上角更多->登录; 校验 loginUrl 为空提示“登录url不能为空”且非空时先保存当前输入再进入登录流程,对齐legado HttpTtsEditDialog.menu_login语义：点击登录先按当前编辑表单回写规则；存在 loginUi 时进入表单登录，不存在 loginUi 时进入网页登录
379,speak_engine_edit.xml,@+id/menu_show_login_header,@string/show_login_header,查看登录头,阅读与朗读,P3,done,codex,手工路径: 设置->语音管理->点击HTTP朗读引擎条目->编辑页右上角更多->查看登录头；校验弹窗标题为“登录头”并展示当前规则缓存的登录头JSON文本（无缓存时仅显示标题）,对齐legado HttpTtsEditDialog.menu_show_login_header语义：读取键httpTts:<id>对应登录头缓存并弹窗展示；不触发保存且不附加复制动作
380,speak_engine_edit.xml,@+id/menu_del_login_header,@string/del_login_header,删除登录头,阅读与朗读,P3,done,codex,手工路径: 设置->语音管理->点击HTTP朗读引擎条目->编辑页右上角更多->删除登录头->查看登录头；校验删除后登录头缓存被清空且流程无额外提示,对齐legado HttpTtsEditDialog.menu_del_login_header语义：按键httpTts:<id>删除登录头缓存；动作不触发保存与登录流程且不追加成功提示
382,speak_engine_edit.xml,@+id/menu_paste_source,@string/paste_source,粘贴源,阅读与朗读,P3,done,codex,手工路径: 设置->语音管理->点击HTTP朗读引擎条目->编辑页右上角更多->粘贴源；校验剪贴板为空提示“剪贴板为空”且粘贴JSON对象或数组后仅回填编辑表单不自动保存,对齐legado HttpTtsEditDialog.menu_paste_source语义：从剪贴板读取文本并仅接受JSON对象或数组；数组取首项回填表单；成功后不自动保存且不跳转
158,book_source_sel.xml,@+id/menu_export_selection,@string/export_selection,导出所选,书源管理与换源,P4,done,codex,手工路径: 书源管理->进入多选模式并选择书源->省略号->导出所选; 校验默认文件名为bookSource.json且取消导出无提示成功后显示导出路径并可复制路径,对齐legado BookSourceActivity.menu_export_selection语义：导出所选沿用全选/比例选择规则并调用文件导出；取消分支静默返回不弹“导出取消”提示
187,change_source.xml,@+id/menu_source_manage,@string/book_source_manage,书源管理,书源管理与换源,P4,done,codex,手工路径: 阅读页(网络书)->顶部换源按钮点击或长按->候选书源弹层->书源管理; 校验可打开书源管理页并在返回后继续停留候选弹层,对齐legado ChangeBookSourceDialog/ChangeChapterSourceDialog.menu_source_manage语义：在换源弹层中触发书源管理页面跳转；不改变换源候选列表的当前筛选与选择状态
188,change_source.xml,@+id/menu_refresh_list,@string/refresh_list,刷新列表,书源管理与换源,P4,done,codex,手工路径: 阅读页(网络书)->顶部换源按钮长按->整书换源->候选弹层->刷新列表; 校验候选列表会基于当前候选来源集合重新拉取并刷新，且刷新期间动作按钮禁用避免重复触发,对齐legado ChangeBookSourceDialog.menu_refresh_list语义：补齐换源候选弹层“刷新列表”动作；点击后停止其它弹层动作并刷新当前候选来源集合，不追加成功或失败提示
192,change_source.xml,@+id/menu_load_toc,@string/load_toc,加载目录,书源管理与换源,P4,done,codex,手工路径: 阅读页(网络书)->顶部换源按钮点击或长按->整书换源或单章换源->候选弹层->更多->加载目录; 校验勾选态切换后立即持久化且不自动刷新候选列表，手动刷新列表时按开关决定是否预加载目录,对齐legado ChangeBookSourceDialog/ChangeChapterSourceDialog.menu_load_toc语义：补齐候选弹层“更多->加载目录”checkable入口；点击仅翻转全局开关并持久化为 changeSourceLoadToc；后续刷新列表按开关决定是否预加载目录并更新候选最新章节
353,source_edit.xml,@+id/menu_login,@string/login,登录,书源管理与换源,P4,done,codex,手工路径: 书源管理->新建或编辑任一书源->右上角更多->登录; 校验 loginUrl 为空时不显示登录入口，loginUrl 非空时点击先保存再进入登录承载页，loginUi 非空走表单登录，loginUi 为空走网页登录,对齐legado BookSourceEditActivity.menu_login语义：菜单显隐仅由 loginUrl 控制；点击后先执行保存，再按 loginUi 是否为空分流登录承载页
354,source_edit.xml,@+id/menu_search,@string/search,搜索,书源管理与换源,P4,done,codex,手工路径: 书源管理->新建或编辑任一书源->右上角更多->搜索; 校验点击后先保存当前书源并进入搜索页且搜索范围锁定到当前书源,对齐legado BookSourceEditActivity.menu_search语义：点击后先执行保存，再写入 searchScope=SearchScope(source) 并打开搜索页
360,source_edit.xml,@+id/menu_qr_code_camera,@string/import_by_qr_code,二维码导入,书源管理与换源,P4,done,codex,手工路径: 书源管理->新建或编辑任一书源->右上角更多->二维码导入->扫码载入; 校验扫码成功后仅回填编辑表单且不提示成功，返回上一页仍按未保存修改提示确认,对齐legado BookSourceEditActivity.menu_qr_code_camera语义：触发扫码后仅执行 importSource->upSourceView 回填；不自动保存且不重置已保存快照
365,source_login.xml,@+id/menu_show_login_header,@string/show_login_header,查看登录头,书源管理与换源,P4,done,codex,手工路径: 书源管理->新建或编辑任一书源->右上角更多->登录(表单)->右上角更多->查看登录头；校验弹窗标题为“登录头”，有缓存时展示登录头JSON并可复制文本，无缓存时仅显示标题,对齐legado SourceLoginDialog.menu_show_login_header语义：读取键loginHeader_<sourceKey>并弹窗展示登录头；有缓存时提供复制动作，不触发保存与跳转
366,source_login.xml,@+id/menu_del_login_header,@string/del_login_header,删除登录头,书源管理与换源,P4,done,codex,手工路径: 书源管理->新建或编辑任一书源->右上角更多->登录(表单)->右上角更多->删除登录头->查看登录头；校验删除后“登录头”弹窗仅显示标题且无额外提示,对齐legado SourceLoginDialog.menu_del_login_header语义：点击删除登录头后静默清理 loginHeader_<sourceKey> 缓存并清理该书源URL作用域Cookie；不触发保存与跳转
