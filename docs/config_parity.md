# 配置功能对标清单（Legado / 完全阅读器）

> 目的：把“同级阅读器常见配置项”拆成可实现的任务清单，持续对标完善 SoupReader 的设置能力。
>
> 说明：
> - 本清单偏“配置入口/能力”，不等同于“功能本体”（例如：有 TTS 配置不代表已实现朗读引擎）。
> - 标记含义：✅ 已实现 / 🟡 部分实现 / ⬜ 未实现

## 1. 外观与全局

- ✅ 外观模式：跟随系统 / 浅色 / 深色（`AppSettings.appearanceMode`）
- ⬜ 主题色/强调色自定义
- ⬜ 字体大小（系统级 UI 字体）
- ⬜ 手势/触控反馈（震动、音效等）

## 2. 书架（Bookshelf）

- ✅ 书架显示方式：网格 / 列表（`AppSettings.bookshelfViewMode`）
- ✅ 书架排序：最近阅读 / 最近加入 / 书名 / 作者（`AppSettings.bookshelfSortMode`）
- 🟡 阅读记录列表：按上次阅读时间展示 + 清除记录（`Book.lastReadTime`）
- 🟡 书单导入/导出：JSON（对标 Legado 的 `[{name, author, intro}]`）
- ⬜ 分组/标签/自定义分类
- ⬜ 书架过滤（本地/在线/已读/未读/更新等）
- ⬜ 批量管理（多选、批量删除、批量换源等）

## 3. 阅读（Reader）

- 🟡 阅读偏好页：主题、翻页模式、排版常用项（`ReadingPreferencesView`）
- 🟡 高级排版：边距、缩进、标题模式、页眉页脚、点击区域、音量键翻页等（`ReadingSettings` 字段已覆盖，UI 逐步补齐）
- ✅ 亮度：跟随系统 / 手动（阅读页维度）
- ⬜ 阅读设置“每本书独立”与“全局默认”的切换/继承策略（暂时仅支持全局）
- ⬜ 阅读统计（阅读时长、速度等）与配置
- ⬜ 朗读（TTS）配置：引擎/语速/断点/定时等

## 4. 书源（Source）

- 🟡 书源管理：导入/导出、启用/禁用、分组筛选、删除失效、置顶（`SourceListView`）
- ⬜ 书源编辑器（规则编辑、字段校验、测试/调试）
- ⬜ 可用性检测 / 批量检测
- ✅ 自动更新开关（先做配置持久化，后续补后台任务）

## 5. 下载与缓存（Storage）

- ✅ 仅 Wi‑Fi 下载开关（配置持久化）
- 🟡 清除缓存：展示真实缓存体积/章数 + 清理在线缓存（保护本地导入书籍）
- ⬜ 下载策略：预下载、并发数、失败重试、缓存上限

## 6. 备份与同步（Backup / Sync）

- 🟡 备份与恢复：导出/导入（文件），可选是否包含在线缓存（`BackupService`）
- ⬜ WebDAV/云同步（Legado 常见能力）
- ⬜ 定时自动备份 / 增量备份

## 7. 其他

- ✅ 检查更新入口（网络检查）
- ⬜ 隐私与权限开关（网络、存储、通知等）
- ⬜ 日志/诊断（便于规则调试与问题反馈）

## 建议优先级（下一步）

1. 书源编辑器（最影响“兼容源阅格式”的体验）
2. 阅读设置 UI 补齐（`ReadingSettings` 字段 → 实际可配置）
3. 备份增强：可选仅备份“书源 + 设置”（不含书架/章节），兼容更多导出格式
4. 书架分组/标签、批量管理
5. WebDAV 同步（如目标用户强依赖跨端迁移）
